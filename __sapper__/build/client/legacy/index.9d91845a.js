import{r as t,_ as r,a as n,b as e,c as a,i as o,d as s,e as u,S as f,s as i,f as c,g as l,m as p,t as m,h as v,j as y,k as g,l as d,n as b,o as h,p as $,q as w,u as S,v as j}from"./client.a35cb6f4.js";import{_ as q}from"./faStar.a6111236.js";import{g as k,q as x,F as A}from"./FullscreenLayout.aae2c3af.js";import{f as R,l as z}from"./Settings.9cf80bbb.js";import"./faHome.d0bfffce.js";function F(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,o=n(t);if(r){var s=n(this).constructor;a=Reflect.construct(o,arguments,s)}else a=o.apply(this,arguments);return e(this,a)}}function L(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return I(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function I(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function O(t){var r,n;return r=new A({props:{slugstr:t[3],posts:t[0],res:t[1],after:t[2],params:t[5].query}}),{c:function(){c(r.$$.fragment)},l:function(t){l(r.$$.fragment,t)},m:function(t,e){p(r,t,e),n=!0},p:function(t,n){var e={};8&n&&(e.slugstr=t[3]),1&n&&(e.posts=t[0]),2&n&&(e.res=t[1]),4&n&&(e.after=t[2]),32&n&&(e.params=t[5].query),r.$set(e)},i:function(t){n||(m(r.$$.fragment,t),n=!0)},o:function(t){v(r.$$.fragment,t),n=!1},d:function(t){y(r,t)}}}function U(t){var r,n,e=0==t[4]&&O(t);return{c:function(){e&&e.c(),r=g()},l:function(t){e&&e.l(t),r=g()},m:function(t,a){e&&e.m(t,a),d(t,r,a),n=!0},p:function(t,n){var a=b(n,1)[0];0==t[4]?e?(e.p(t,a),16&a&&m(e,1)):((e=O(t)).c(),m(e,1),e.m(r.parentNode,r)):e&&(j(),v(e,1,1,(function(){e=null})),h())},i:function(t){n||(m(e),n=!0)},o:function(t){v(e),n=!1},d:function(t){e&&e.d(t),t&&$(r)}}}function _(t){return B.apply(this,arguments)}function B(){return(B=q(t.mark((function r(n){var e,a,o,s,u,f;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.query,"undefined"!=typeof window){t.next=3;break}return t.abrupt("return");case 3:return a="cheezbot",t.next=6,k("https://api.tumblr.com/v2/blog/".concat(a,"/posts?api_key=ru6b4z2sDMz7h0WyCULiNuqqgDfgubrdQZtZrVUkXQGkzFPTrF&").concat(x(e)));case 6:return o=t.sent,s=o.posts,u=o.res,f=o.after,t.abrupt("return",{posts:s,after:f,res:u,slugstr:a});case 11:case"end":return t.stop()}}),r)})))).apply(this,arguments)}function C(t,r,n){var e,a,o;w(t,R,(function(t){return n(7,e=t)})),w(t,z,(function(t){return n(4,a=t)}));var s=S().page;w(t,s,(function(t){return n(5,o=t)})),R.useLocalStorage({}),z.useLocalStorage(0);var u,f=r.posts,i=void 0===f?[]:f,c=r.res,l=r.after,p=r.slugstr,m=L(i);try{for(m.s();!(u=m.n()).done;){var v,y=u.value;y.favorite=!(null===(v=e[y.url])||void 0===v||!v.favorite)}}catch(t){m.e(t)}finally{m.f()}return t.$$set=function(t){"posts"in t&&n(0,i=t.posts),"res"in t&&n(1,c=t.res),"after"in t&&n(2,l=t.after),"slugstr"in t&&n(3,p=t.slugstr)},[i,c,l,p,a,o,s]}var D=function(t){r(e,f);var n=F(e);function e(t){var r;return a(this,e),r=n.call(this),o(s(r),t,C,U,i,{posts:0,res:1,after:2,slugstr:3}),r}return u(e)}();export{D as default,_ as preload};
