import{S as e,i as t,s as i,n,o as r,p as o,q as l,h as a,e as s,r as c,d as u,u as f,v as d,w as p,j as m,x as h,y as g,a as v,z as y,m as b,A as w,B as $,t as _,l as k,b as P,c as S,k as N,C as x,f as z,D as q,E as j,F as E,G as M,H as O,I as C,J as I,K as D,L,M as A,N as T,O as R,P as F,Q as V,R as U,T as G,U as K,V as B}from"./client.648243c5.js";import{c as J,a as W,I as H,b as X,S as Y,d as Q,f as Z,o as ee,p as te,i as ie,e as ne,g as re,m as oe,h as le,j as ae,k as se,n as ce,q as ue,r as fe,s as de,l as pe}from"./Settings.44aef455.js";import{f as me}from"./faCloudDownloadAlt.b648c6fd.js";var he=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="volume-high",n=[128266,"volume-up"],r="f028",o="M533.6 32.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C557.5 113.8 592 180.8 592 256s-34.5 142.2-88.7 186.3c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5C598.5 426.7 640 346.2 640 256S598.5 85.2 533.6 32.5zM473.1 107c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C475.3 170.7 496 210.9 496 256s-20.7 85.3-53.2 111.8c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5c43.2-35.2 70.9-88.9 70.9-149s-27.7-113.8-70.9-149zm-60.5 74.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C393.1 227.6 400 241 400 256s-6.9 28.4-17.7 37.3c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5C434.1 312.9 448 286.1 448 256s-13.9-56.9-35.4-74.5zM80 352l48 0 134.1 119.2c6.4 5.7 14.6 8.8 23.1 8.8 19.2 0 34.8-15.6 34.8-34.8l0-378.4c0-19.2-15.6-34.8-34.8-34.8-8.5 0-16.7 3.1-23.1 8.8L128 160 80 160c-26.5 0-48 21.5-48 48l0 96c0 26.5 21.5 48 48 48z";t.definition={prefix:"fas",iconName:i,icon:[640,512,n,r,o]},t.faVolumeHigh=t.definition,t.prefix="fas",t.iconName=i,t.width=640,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),ge=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.definition={prefix:he.prefix,iconName:he.iconName,icon:[he.width,he.height,he.aliases,he.unicode,he.svgPathData]},t.faVolumeUp=t.definition,t.prefix=he.prefix,t.iconName=he.iconName,t.width=he.width,t.height=he.height,t.ligatures=he.aliases,t.unicode=he.unicode,t.svgPathData=he.svgPathData,t.aliases=he.aliases}),ve=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="volume-xmark",n=["volume-mute","volume-times"],r="f6a9",o="M48 352l48 0 134.1 119.2c6.4 5.7 14.6 8.8 23.1 8.8 19.2 0 34.8-15.6 34.8-34.8l0-378.4c0-19.2-15.6-34.8-34.8-34.8-8.5 0-16.7 3.1-23.1 8.8L96 160 48 160c-26.5 0-48 21.5-48 48l0 96c0 26.5 21.5 48 48 48zM367 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z";t.definition={prefix:"fas",iconName:i,icon:[576,512,n,r,o]},t.faVolumeXmark=t.definition,t.prefix="fas",t.iconName=i,t.width=576,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),ye=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.definition={prefix:ve.prefix,iconName:ve.iconName,icon:[ve.width,ve.height,ve.aliases,ve.unicode,ve.svgPathData]},t.faVolumeMute=t.definition,t.prefix=ve.prefix,t.iconName=ve.iconName,t.width=ve.width,t.height=ve.height,t.ligatures=ve.aliases,t.unicode=ve.unicode,t.svgPathData=ve.svgPathData,t.aliases=ve.aliases}),be=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="play",n=[9654],r="f04b",o="M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z";t.definition={prefix:"fas",iconName:i,icon:[448,512,n,r,o]},t.faPlay=t.definition,t.prefix="fas",t.iconName=i,t.width=448,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),we=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="pause",n=[9208],r="f04c",o="M48 32C21.5 32 0 53.5 0 80L0 432c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48L48 32zm224 0c-26.5 0-48 21.5-48 48l0 352c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48l-64 0z";t.definition={prefix:"fas",iconName:i,icon:[384,512,n,r,o]},t.faPause=t.definition,t.prefix="fas",t.iconName=i,t.width=384,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),$e=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="dice",n=[127922],r="f522",o="M141.4 2.3C103-8 63.5 14.8 53.3 53.2L2.5 242.7C-7.8 281.1 15 320.6 53.4 330.9l189.5 50.8c38.4 10.3 77.9-12.5 88.2-50.9l50.8-189.5c10.3-38.4-12.5-77.9-50.9-88.2L141.4 2.3zm23 205.7a32 32 0 1 1 55.4-32 32 32 0 1 1 -55.4 32zM79.2 220.3a32 32 0 1 1 32 55.4 32 32 0 1 1 -32-55.4zm185 96.4a32 32 0 1 1 -32-55.4 32 32 0 1 1 32 55.4zm9-208.4a32 32 0 1 1 32 55.4 32 32 0 1 1 -32-55.4zm-121 14.4a32 32 0 1 1 -32-55.4 32 32 0 1 1 32 55.4zM418 192L377.4 343.2c-17.2 64-83 102-147 84.9l-38.3-10.3 0 30.2c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64L418 192z";t.definition={prefix:"fas",iconName:i,icon:[512,512,n,r,o]},t.faDice=t.definition,t.prefix="fas",t.iconName=i,t.width=512,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),_e=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="photo-film",n=["photo-video"],r="f87c",o="M192 64c0-35.3 28.7-64 64-64L576 0c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64l-320 0c-35.3 0-64-28.7-64-64l0-224zM320 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm156.5 11.5C472.1 100.4 464.4 96 456 96s-16.1 4.4-20.5 11.5l-54 88.3-17.9-25.6c-4.5-6.4-11.8-10.2-19.7-10.2s-15.2 3.8-19.7 10.2l-56 80c-5.1 7.3-5.8 16.9-1.6 24.8S279.1 288 288 288l256 0c8.7 0 16.7-4.7 20.9-12.3s4.1-16.8-.5-24.3l-88-144zM144 128l0 160c0 61.9 50.1 112 112 112l192 0 0 16c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 192c0-35.3 28.7-64 64-64l80 0zM52 196l0 24c0 8.8 7.2 16 16 16l24 0c8.8 0 16-7.2 16-16l0-24c0-8.8-7.2-16-16-16l-24 0c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16l0 24c0 8.8 7.2 16 16 16l24 0c8.8 0 16-7.2 16-16l0-24c0-8.8-7.2-16-16-16l-24 0zm0 96c-8.8 0-16 7.2-16 16l0 24c0 8.8 7.2 16 16 16l24 0c8.8 0 16-7.2 16-16l0-24c0-8.8-7.2-16-16-16l-24 0z";t.definition={prefix:"fas",iconName:i,icon:[640,512,n,r,o]},t.faPhotoFilm=t.definition,t.prefix="fas",t.iconName=i,t.width=640,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),ke=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.definition={prefix:_e.prefix,iconName:_e.iconName,icon:[_e.width,_e.height,_e.aliases,_e.unicode,_e.svgPathData]},t.faPhotoVideo=t.definition,t.prefix=_e.prefix,t.iconName=_e.iconName,t.width=_e.width,t.height=_e.height,t.ligatures=_e.aliases,t.unicode=_e.unicode,t.svgPathData=_e.svgPathData,t.aliases=_e.aliases}),Pe=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="video",n=["video-camera"],r="f03d",o="M96 64c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L96 64zM464 336l73.5 58.8c4.2 3.4 9.4 5.2 14.8 5.2 13.1 0 23.7-10.6 23.7-23.7l0-240.6c0-13.1-10.6-23.7-23.7-23.7-5.4 0-10.6 1.8-14.8 5.2L464 176 464 336z";t.definition={prefix:"fas",iconName:i,icon:[576,512,n,r,o]},t.faVideo=t.definition,t.prefix="fas",t.iconName=i,t.width=576,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),Se=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="image",n=[],r="f03e",o="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z";t.definition={prefix:"fas",iconName:i,icon:[448,512,n,r,o]},t.faImage=t.definition,t.prefix="fas",t.iconName=i,t.width=448,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),Ne=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="magnifying-glass",n=[128269,"search"],r="f002",o="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z";t.definition={prefix:"fas",iconName:i,icon:[512,512,n,r,o]},t.faMagnifyingGlass=t.definition,t.prefix="fas",t.iconName=i,t.width=512,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),xe=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.definition={prefix:Ne.prefix,iconName:Ne.iconName,icon:[Ne.width,Ne.height,Ne.aliases,Ne.unicode,Ne.svgPathData]},t.faSearch=t.definition,t.prefix=Ne.prefix,t.iconName=Ne.iconName,t.width=Ne.width,t.height=Ne.height,t.ligatures=Ne.aliases,t.unicode=Ne.unicode,t.svgPathData=Ne.svgPathData,t.aliases=Ne.aliases}),ze=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="arrows-rotate",n=[128472,"refresh","sync"],r="f021",o="M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z";t.definition={prefix:"fas",iconName:i,icon:[512,512,n,r,o]},t.faArrowsRotate=t.definition,t.prefix="fas",t.iconName=i,t.width=512,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),qe=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.definition={prefix:ze.prefix,iconName:ze.iconName,icon:[ze.width,ze.height,ze.aliases,ze.unicode,ze.svgPathData]},t.faSync=t.definition,t.prefix=ze.prefix,t.iconName=ze.iconName,t.width=ze.width,t.height=ze.height,t.ligatures=ze.aliases,t.unicode=ze.unicode,t.svgPathData=ze.svgPathData,t.aliases=ze.aliases}),je=J(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="spinner",n=[],r="f110",o="M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z";t.definition={prefix:"fas",iconName:i,icon:[512,512,n,r,o]},t.faSpinner=t.definition,t.prefix="fas",t.iconName=i,t.width=512,t.height=512,t.ligatures=n,t.unicode=r,t.svgPathData=o,t.aliases=n}),Ee=1/0,Me=9007199254740991,Oe=17976931348623157e292,Ce=NaN,Ie="[object Arguments]",De="[object Map]",Le="[object Promise]",Ae="[object Set]",Te="[object String]",Re="[object Symbol]",Fe="[object WeakMap]",Ve="[object DataView]",Ue=/^\s+|\s+$/g,Ge=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Be=/^\[object .+?Constructor\]$/,Je=/^0o[0-7]+$/i,We=/^(?:0|[1-9]\d*)$/,He="\\ud800-\\udfff",Xe="\\u0300-\\u036f\\ufe20-\\ufe23",Ye="\\u20d0-\\u20f0",Qe="\\ufe0e\\ufe0f",Ze="["+He+"]",et="["+Xe+Ye+"]",tt="\\ud83c[\\udffb-\\udfff]",it="[^"+He+"]",nt="(?:\\ud83c[\\udde6-\\uddff]){2}",rt="[\\ud800-\\udbff][\\udc00-\\udfff]",ot="\\u200d",lt="(?:"+et+"|"+tt+")"+"?",at="["+Qe+"]?",st=at+lt+("(?:"+ot+"(?:"+[it,nt,rt].join("|")+")"+at+lt+")*"),ct="(?:"+[it+et+"?",et,nt,rt,Ze].join("|")+")",ut=RegExp(tt+"(?="+tt+")|"+ct+st,"g"),ft=RegExp("["+ot+He+Xe+Ye+Qe+"]"),dt=parseInt,pt="object"==typeof W&&W&&W.Object===Object&&W,mt="object"==typeof self&&self&&self.Object===Object&&self,ht=pt||mt||Function("return this")();function gt(e,t){return function(e,t){for(var i=-1,n=e?e.length:0,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}(t,function(t){return e[t]})}function vt(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function yt(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function bt(e){return function(e){return ft.test(e)}(e)?function(e){return e.match(ut)||[]}(e):function(e){return e.split("")}(e)}var wt,$t,_t,kt=Function.prototype,Pt=Object.prototype,St=ht["__core-js_shared__"],Nt=(wt=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||""))?"Symbol(src)_1."+wt:"",xt=kt.toString,zt=Pt.hasOwnProperty,qt=Pt.toString,jt=RegExp("^"+xt.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=ht.Symbol,Mt=Et?Et.iterator:void 0,Ot=Pt.propertyIsEnumerable,Ct=Math.floor,It=($t=Object.keys,_t=Object,function(e){return $t(_t(e))}),Dt=Math.random,Lt=Yt(ht,"DataView"),At=Yt(ht,"Map"),Tt=Yt(ht,"Promise"),Rt=Yt(ht,"Set"),Ft=Yt(ht,"WeakMap"),Vt=ei(Lt),Ut=ei(At),Gt=ei(Tt),Kt=ei(Rt),Bt=ei(Ft);function Jt(e,t){var i=ii(e)||function(e){return function(e){return li(e)&&ni(e)}(e)&&zt.call(e,"callee")&&(!Ot.call(e,"callee")||qt.call(e)==Ie)}(e)?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],n=i.length,r=!!n;for(var o in e)!t&&!zt.call(e,o)||r&&("length"==o||Zt(o,n))||i.push(o);return i}function Wt(e){if(!oi(e)||function(e){return!!Nt&&Nt in e}(e))return!1;var t=ri(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?jt:Be;return t.test(ei(e))}function Ht(e){if(i=(t=e)&&t.constructor,n="function"==typeof i&&i.prototype||Pt,t!==n)return It(e);var t,i,n,r=[];for(var o in Object(e))zt.call(e,o)&&"constructor"!=o&&r.push(o);return r}function Xt(e,t){return e+Ct(Dt()*(t-e+1))}function Yt(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Wt(i)?i:void 0}var Qt=function(e){return qt.call(e)};function Zt(e,t){return!!(t=null==t?Me:t)&&("number"==typeof e||We.test(e))&&e>-1&&e%1==0&&e<t}function ei(e){if(null!=e){try{return xt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ti(e,t,i){var n,r,o,l=-1,a=function(e){if(!e)return[];if(ni(e))return function(e){return"string"==typeof e||!ii(e)&&li(e)&&qt.call(e)==Te}(e)?bt(e):function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(e);if(Mt&&e[Mt])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[Mt]());var t=Qt(e),i=t==De?vt:t==Ae?yt:ai;return i(e)}(e),s=a.length,c=s-1;for((i?function(e,t,i){if(!oi(i))return!1;var n=typeof t;return!!("number"==n?ni(i)&&Zt(t,i.length):"string"==n&&t in i)&&function(e,t){return e===t||e!=e&&t!=t}(i[t],e)}(e,t,i):void 0===t)?t=1:(n=function(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||li(e)&&qt.call(e)==Re}(e))return Ce;if(oi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ue,"");var i=Ke.test(e);return i||Je.test(e)?dt(e.slice(2),i?2:8):Ge.test(e)?Ce:+e}(e))===Ee||e===-1/0?(e<0?-1:1)*Oe:e==e?e:0:0===e?e:0}(e),i=t%1;return t==t?i?t-i:t:0}(t),r=0,o=s,n==n&&(void 0!==o&&(n=n<=o?n:o),void 0!==r&&(n=n>=r?n:r)),t=n);++l<t;){var u=Xt(l,c),f=a[u];a[u]=a[l],a[l]=f}return a.length=t,a}(Lt&&Qt(new Lt(new ArrayBuffer(1)))!=Ve||At&&Qt(new At)!=De||Tt&&Qt(Tt.resolve())!=Le||Rt&&Qt(new Rt)!=Ae||Ft&&Qt(new Ft)!=Fe)&&(Qt=function(e){var t=qt.call(e),i="[object Object]"==t?e.constructor:void 0,n=i?ei(i):void 0;if(n)switch(n){case Vt:return Ve;case Ut:return De;case Gt:return Le;case Kt:return Ae;case Bt:return Fe}return t});var ii=Array.isArray;function ni(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Me}(e.length)&&!ri(e)}function ri(e){var t=oi(e)?qt.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function oi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function li(e){return!!e&&"object"==typeof e}function ai(e){return e?gt(e,function(e){return ni(e)?Jt(e):Ht(e)}(e)):[]}var si,ci=function(e){return ti(e,4294967295)};function ui(e){return Object.entries(e).map(([e,t])=>`${e}=${t}`).join("&")}async function fi(e){try{if(console.log("[get_tumblr_posts] API URL:",e),e.includes("OAuth Consumer Key Goes Here"))return console.log("[get_tumblr_posts]: Invalid API key detected"),{posts:[],after:null,res:{ok:!1,res:"Invalid API key. Please set your Tumblr API key in settings."}};const t=await fetch(e);console.log("[get_tumblr_posts] Raw Response Object:",t);const i=await t.json();if(console.log("[get_tumblr_posts] Raw API Data:",i),console.log("[get_tumblr_posts] Raw API Data.response:",i.response),200!==i.meta.status)return console.error("[get_tumblr_posts]: API error",i.meta.msg),{posts:[],after:null,res:{ok:!1,res:i.meta.msg}};const n=i.response.posts||i.response;console.log("[get_tumblr_posts] Raw Posts Array (before filtering):",n),n.forEach(e=>console.log(`[get_tumblr_posts] Post Type: ${e.type}, ID: ${e.id}`));const r=await Promise.all(n.map(e=>async function(e){let t={default:"",hires:"",album:[]},i={},n={width:0,height:0},r=!1,o=!1,l=e.post_url;if("photo"===e.type&&e.photos&&e.photos.length>0){o=!0;const i=e.photos.map(e=>{let t=[...e.alt_sizes];return e.original_size&&t.push(e.original_size),t.reduce((e,t)=>e.width>t.width?e:t)}),r=i[0];t={default:r.url,hires:r.url,album:i.map(e=>({default:e.url,hires:e.url,is_image:!0,is_video:!1,preview:{vid:{},img:{hires:e.url,default:e.url,album:[]}}}))},n={width:r.width,height:r.height},l=r.url}else if("video"===e.type&&e.video_url)r=!0,i={mp4:e.video_url,lores:e.video_url},e.player&&e.player.length>0&&(n={width:e.player[0].width,height:e.player[0].width*(9/16)}),l=e.video_url;else if("text"===e.type&&e.body){const i=/<img[^>]+src="([^">]+)"/g,r=[];let a;for(;null!==(a=i.exec(e.body));)r.push(a[1]);if(r.length>0){o=!0;const e=e=>e.replace(/_\d{3,}\.(jpg|png|gif|webp)$/,"_1280.$1").replace(/\/s\d+x\d+\//,"/"),i=r.map(e);t={default:r[0],hires:i[0],album:r.map((e,t)=>({default:e,hires:i[t],is_image:!0,is_video:!1,preview:{vid:{},img:{hires:i[t],default:e,album:[]}}}))},n={width:0,height:0},l=r[0]}else console.log(`[format_tumblr_post] Text post with no images. ID: ${e.id}`)}else console.log(`[format_tumblr_post] Post not identified as image/video. Type: ${e.type}, Post:`,e);let a=si.Normal;n.width&&n.height&&(n.width/n.height<=.7?a=si.Portrait:n.width/n.height>=1.7&&(a=si.Landscape));const s=["nsfw","adult","mature","18+","explicit"],c=e.tags.some(e=>s.includes(e.toLowerCase()));return{id:String(e.id),author:e.blog_name,authorp:`u/${e.blog_name}`,title:e.title||e.summary||"(no title)",thumbnail:o?t.default:void 0,subreddit:e.blog_name,subredditp:`t/${e.blog_name}`,permalink:e.post_url,over18:c,is_video:r,is_image:o,is_album:o&&t.album&&t.album.length>1,favorite:!1,url:l,dims:n,orientation:a,preview:{vid:i,img:t}}}(e))),o=r.filter(e=>e.is_image||e.is_video);let l;return l=e.includes("/tagged")?n.length>0?n[n.length-1].timestamp:null:n.length>0?parseInt(e.match(/offset=(\d+)/)?.[1]||"0")+n.length:null,{posts:o,after:l,res:{ok:!0,res:t}}}catch(e){return console.error("[get_tumblr_posts]: error",e),{posts:[],after:null,res:{ok:!1,res:e}}}}function di(){}!function(e){e.Normal="normal",e.Portrait="portrait",e.Landscape="landscape"}(si||(si={}));const pi=[];function mi(e,t=di){let i;const n=[];function r(t){if(e=t,i){const t=!pi.length;for(let t=0;t<n.length;t+=1){const i=n[t];i[1](),pi.push(i,e)}if(t){for(let e=0;e<pi.length;e+=2)pi[e][0](pi[e+1]);pi.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(o,l=di){const a=[o,l];return n.push(a),1===n.length&&(i=t(r)||di),void 0!==e&&o(e),()=>{const e=n.indexOf(a);-1!==e&&n.splice(e,1),0===n.length&&(i(),i=null)}},pipe:function(...t){return t.reduce((t,i)=>i(t,e),this)}}}var hi=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},gi="object"==typeof W&&W&&W.Object===Object&&W,vi="object"==typeof self&&self&&self.Object===Object&&self,yi=gi||vi||Function("return this")(),bi=function(){return yi.Date.now()},wi=/\s/;var $i=function(e){for(var t=e.length;t--&&wi.test(e.charAt(t)););return t},_i=/^\s+/;var ki=function(e){return e?e.slice(0,$i(e)+1).replace(_i,""):e},Pi=yi.Symbol,Si=Object.prototype,Ni=Si.hasOwnProperty,xi=Si.toString,zi=Pi?Pi.toStringTag:void 0;var qi=function(e){var t=Ni.call(e,zi),i=e[zi];try{e[zi]=void 0;var n=!0}catch(e){}var r=xi.call(e);return n&&(t?e[zi]=i:delete e[zi]),r},ji=Object.prototype.toString;var Ei=function(e){return ji.call(e)},Mi=Pi?Pi.toStringTag:void 0;var Oi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Mi&&Mi in Object(e)?qi(e):Ei(e)};var Ci=function(e){return null!=e&&"object"==typeof e};var Ii=function(e){return"symbol"==typeof e||Ci(e)&&"[object Symbol]"==Oi(e)},Di=/^[-+]0x[0-9a-f]+$/i,Li=/^0b[01]+$/i,Ai=/^0o[0-7]+$/i,Ti=parseInt;var Ri=function(e){if("number"==typeof e)return e;if(Ii(e))return NaN;if(hi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=hi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ki(e);var i=Li.test(e);return i||Ai.test(e)?Ti(e.slice(2),i?2:8):Di.test(e)?NaN:+e},Fi=Math.max,Vi=Math.min;var Ui=function(e,t,i){var n,r,o,l,a,s,c=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,o=r;return n=r=void 0,c=t,l=e.apply(o,i)}function m(e){var i=e-s;return void 0===s||i>=t||i<0||f&&e-c>=o}function h(){var e=bi();if(m(e))return g(e);a=setTimeout(h,function(e){var i=t-(e-s);return f?Vi(i,o-(e-c)):i}(e))}function g(e){return a=void 0,d&&n?p(e):(n=r=void 0,l)}function v(){var e=bi(),i=m(e);if(n=arguments,r=this,s=e,i){if(void 0===a)return function(e){return c=e,a=setTimeout(h,t),u?p(e):l}(s);if(f)return clearTimeout(a),a=setTimeout(h,t),p(s)}return void 0===a&&(a=setTimeout(h,t)),l}return t=Ri(t)||0,hi(i)&&(u=!!i.leading,o=(f="maxWait"in i)?Fi(Ri(i.maxWait)||0,t):o,d="trailing"in i?!!i.trailing:d),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=s=r=a=void 0},v.flush=function(){return void 0===a?l:g(bi())},v};function Gi(e,t){return i=>{let n=Ui((e,t)=>t(e),e,t),{cancel:r,flush:o}=n,{subscribe:l,pipe:a}=function(e,t){const{subscribe:i,pipe:n}=mi(e,t);return{subscribe:i,pipe:n}}(void 0,e=>{let t=i.subscribe(t=>n(t,e));return()=>{t(),r()}});return{subscribe:l,pipe:a,cancel:r,flush:o}}}const{document:Ki,window:Bi}=j;function Ji(e,t,i){const n=e.slice();return n[102]=t[i],n}function Wi(e,t,i){const n=e.slice();return n[105]=t[i],n[107]=i,n}function Hi(e){let t;return{c(){t=E(e[16])},l(i){t=M(i,e[16])},m(e,i){v(e,t,i)},p(e,i){65536&i[0]&&O(t,e[16])},d(e){e&&u(t)}}}function Xi(e){let t,i,n,r,o,l,a=e[6].dims.width+"",s=e[6].dims.height+"";return{c(){t=E(e[16]),i=E(" ("),n=E(a),r=E("x"),o=E(s),l=E(")")},l(c){t=M(c,e[16]),i=M(c," ("),n=M(c,a),r=M(c,"x"),o=M(c,s),l=M(c,")")},m(e,a){v(e,t,a),v(e,i,a),v(e,n,a),v(e,r,a),v(e,o,a),v(e,l,a)},p(e,i){65536&i[0]&&O(t,e[16]),64&i[0]&&a!==(a=e[6].dims.width+"")&&O(n,a),64&i[0]&&s!==(s=e[6].dims.height+"")&&O(o,s)},d(e){e&&u(t),e&&u(i),e&&u(n),e&&u(r),e&&u(o),e&&u(l)}}}function Yi(e){let t,i,n,r=e[6].authorp+"";return{c(){t=l("div"),i=l("p"),n=E(r),this.h()},l(e){t=d(e,"DIV",{class:!0});var o=p(t);i=d(o,"P",{class:!0});var l=p(i);n=M(l,r),l.forEach(u),o.forEach(u),this.h()},h(){h(i,"class","user svelte-1qdlkqz"),h(t,"class","subreddit")},m(e,r){v(e,t,r),y(t,i),y(i,n)},p(e,t){64&t[0]&&r!==(r=e[6].authorp+"")&&O(n,r)},d(e){e&&u(t)}}}function Qi(e){let t;function i(e,t){return e[6].preview.img.album[e[4]].is_video?nn:tn}let n=i(e),r=n(e);return{c(){r.c(),t=s()},l(e){r.l(e),t=s()},m(e,i){r.m(e,i),v(e,t,i)},p(e,o){n===(n=i(e))&&r?r.p(e,o):(r.d(1),r=n(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&u(t)}}}function Zi(e){let t,i,n,r;function o(e,t){return e[29]?on:rn}let a=o(e),s=a(e);return{c(){t=l("video"),s.c(),this.h()},l(e){t=d(e,"VIDEO",{class:!0,id:!0});var i=p(t);s.l(i),i.forEach(u),this.h()},h(){h(t,"class","video svelte-1qdlkqz"),t.autoplay=!0,t.loop=i=!e[9],t.playsInline=!0,t.muted=e[11],h(t,"id","videoplayerid"),g(t,"hide-cursor",e[13])},m(i,o){v(i,t,o),s.m(t,null),n||(r=[w(t,"ended",e[41]),w(t,"dblclick",e[42]),w(t,"mousemove",e[44]),w(t,"click",e[43])],n=!0)},p(e,n){a===(a=o(e))&&s?s.p(e,n):(s.d(1),s=a(e),s&&(s.c(),s.m(t,null))),512&n[0]&&i!==(i=!e[9])&&(t.loop=i),2048&n[0]&&(t.muted=e[11]),8192&n[0]&&g(t,"hide-cursor",e[13])},d(e){e&&u(t),s.d(),n=!1,x(r)}}}function en(e){let t,i,n;return{c(){t=l("img"),this.h()},l(e){t=d(e,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){L(t.src,i=e[6].preview.img.default)||h(t,"src",i),h(t,"alt",n=e[6].title),V(t,"height","100vh"),V(t,"object-fit","contain"),h(t,"class","svelte-1qdlkqz")},m(e,i){v(e,t,i)},p(e,r){64&r[0]&&!L(t.src,i=e[6].preview.img.default)&&h(t,"src",i),64&r[0]&&n!==(n=e[6].title)&&h(t,"alt",n)},d(e){e&&u(t)}}}function tn(e){let t,i,n;return{c(){t=l("img"),this.h()},l(e){t=d(e,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){L(t.src,i=e[6].preview.img.album[e[4]].default)||h(t,"src",i),h(t,"alt",n=e[6].title),V(t,"height","100vh"),V(t,"object-fit","contain"),h(t,"class","svelte-1qdlkqz")},m(e,i){v(e,t,i)},p(e,r){80&r[0]&&!L(t.src,i=e[6].preview.img.album[e[4]].default)&&h(t,"src",i),64&r[0]&&n!==(n=e[6].title)&&h(t,"alt",n)},d(e){e&&u(t)}}}function nn(e){let t,i,n,r,o,a;return{c(){t=l("video"),i=l("source"),this.h()},l(e){t=d(e,"VIDEO",{class:!0});var n=p(t);i=d(n,"SOURCE",{src:!0}),n.forEach(u),this.h()},h(){L(i.src,n=e[6].preview.img.album[e[4]].hires)||h(i,"src",n),h(t,"class","video svelte-1qdlkqz"),t.autoplay=!0,t.loop=r=!e[9],t.playsInline=!0,t.muted=e[11],g(t,"hide-cursor",e[13])},m(n,r){v(n,t,r),y(t,i),o||(a=[w(t,"ended",e[41]),w(t,"dblclick",e[42]),w(t,"mousemove",e[44]),w(t,"click",e[43])],o=!0)},p(e,o){80&o[0]&&!L(i.src,n=e[6].preview.img.album[e[4]].hires)&&h(i,"src",n),512&o[0]&&r!==(r=!e[9])&&(t.loop=r),2048&o[0]&&(t.muted=e[11]),8192&o[0]&&g(t,"hide-cursor",e[13])},d(e){e&&u(t),o=!1,x(a)}}}function rn(e){let t,i,n=e[6].preview.vid.webm&&ln(e),r=e[6].preview.vid.mp4&&an(e);return{c(){n&&n.c(),t=s(),r&&r.c(),i=s()},l(e){n&&n.l(e),t=s(),r&&r.l(e),i=s()},m(e,o){n&&n.m(e,o),v(e,t,o),r&&r.m(e,o),v(e,i,o)},p(e,o){e[6].preview.vid.webm?n?n.p(e,o):(n=ln(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),e[6].preview.vid.mp4?r?r.p(e,o):(r=an(e),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(e){n&&n.d(e),e&&u(t),r&&r.d(e),e&&u(i)}}}function on(e){let t,i;return{c(){t=l("source"),this.h()},l(e){t=d(e,"SOURCE",{src:!0}),this.h()},h(){L(t.src,i=e[6].preview.vid.lores)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){64&n[0]&&!L(t.src,i=e[6].preview.vid.lores)&&h(t,"src",i)},d(e){e&&u(t)}}}function ln(e){let t,i;return{c(){t=l("source"),this.h()},l(e){t=d(e,"SOURCE",{src:!0}),this.h()},h(){L(t.src,i=e[6].preview.vid.webm)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){64&n[0]&&!L(t.src,i=e[6].preview.vid.webm)&&h(t,"src",i)},d(e){e&&u(t)}}}function an(e){let t,i;return{c(){t=l("source"),this.h()},l(e){t=d(e,"SOURCE",{src:!0}),this.h()},h(){L(t.src,i=e[6].preview.vid.mp4)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){64&n[0]&&!L(t.src,i=e[6].preview.vid.mp4)&&h(t,"src",i)},d(e){e&&u(t)}}}function sn(e){let t,i,n,r,s,c,$,z,q,j,E,M,O,L,A,T,R,F,V,G,K,B,J,W,X,Y,Q,Z,ee,te,ie=[],ne=new Map;r=new H({props:{icon:e[9]?we.faPause:be.faPlay}}),$=new H({props:{icon:me.faCloudDownloadAlt}}),j=new H({props:{icon:$e.faDice}});const re=[fn,un,cn],oe=[];function le(e,t){return 0==e[10]?0:1==e[10]?1:2==e[10]?2:-1}~(O=le(e))&&(L=oe[O]=re[O](e)),R=new H({props:{icon:e[11]?ye.faVolumeMute:ge.faVolumeUp}});let ae=e[15]&&dn(e);const se=[gn,hn],ce=[];function ue(e,t){return e[25]?0:1}K=ue(e),B=ce[K]=se[K](e);let fe=e[5]&&vn(e),de=e[2];const pe=e=>e[105].id+e[105].url;for(let t=0;t<de.length;t+=1){let i=Wi(e,de,t),n=pe(i);ne.set(n,ie[t]=yn(n,i))}let he=!e[15]&&bn(e);return{c(){t=l("div"),i=l("div"),n=l("span"),a(r.$$.fragment),s=o(),c=l("span"),a($.$$.fragment),z=o(),q=l("span"),a(j.$$.fragment),E=o(),M=l("span"),L&&L.c(),A=o(),T=l("span"),a(R.$$.fragment),F=o(),ae&&ae.c(),V=o(),G=l("span"),B.c(),J=o(),fe&&fe.c(),W=o(),X=l("div");for(let e=0;e<ie.length;e+=1)ie[e].c();Y=o(),he&&he.c(),this.h()},l(e){t=d(e,"DIV",{class:!0});var o=p(t);i=d(o,"DIV",{class:!0});var l=p(i);n=d(l,"SPAN",{class:!0,"data-tooltip":!0});var a=p(n);m(r.$$.fragment,a),a.forEach(u),s=f(l),c=d(l,"SPAN",{class:!0,"data-tooltip":!0});var h=p(c);m($.$$.fragment,h),h.forEach(u),z=f(l),q=d(l,"SPAN",{class:!0,"data-tooltip":!0});var g=p(q);m(j.$$.fragment,g),g.forEach(u),E=f(l),M=d(l,"SPAN",{class:!0,"data-tooltip":!0});var v=p(M);L&&L.l(v),v.forEach(u),A=f(l),T=d(l,"SPAN",{class:!0,"data-tooltip":!0});var y=p(T);m(R.$$.fragment,y),y.forEach(u),F=f(l),ae&&ae.l(l),V=f(l),G=d(l,"SPAN",{class:!0,"data-tooltip":!0});var b=p(G);B.l(b),b.forEach(u),J=f(l),fe&&fe.l(l),l.forEach(u),W=f(o),X=d(o,"DIV",{class:!0});var w=p(X);for(let e=0;e<ie.length;e+=1)ie[e].l(w);Y=f(w),he&&he.l(w),w.forEach(u),o.forEach(u),this.h()},h(){h(n,"class","btn playpause tooltip svelte-1qdlkqz"),h(n,"data-tooltip",e[21]),g(n,"play",e[9]),h(c,"class","btn download tooltip svelte-1qdlkqz"),h(c,"data-tooltip",e[20]),g(c,"dlready",e[3]),h(q,"class","btn dice tooltip svelte-1qdlkqz"),h(q,"data-tooltip","Shuffle"),h(M,"class","btn imagevideo tooltip svelte-1qdlkqz"),h(M,"data-tooltip",e[19]),h(T,"class","btn muted tooltip svelte-1qdlkqz"),h(T,"data-tooltip",e[23]),h(G,"class","btn filter tooltip svelte-1qdlkqz"),h(G,"data-tooltip","Filter ( / )"),g(G,"filterExpanded",e[25]),g(G,"dlready",e[3]),h(i,"class","btnwrapper svelte-1qdlkqz"),h(X,"class","numswrapper svelte-1qdlkqz"),h(t,"class","goto svelte-1qdlkqz"),C(()=>e[68].call(t)),g(t,"tinygoto",e[15]),g(t,"hide",0==e[12])},m(o,l){v(o,t,l),y(t,i),y(i,n),b(r,n,null),y(i,s),y(i,c),b($,c,null),y(i,z),y(i,q),b(j,q,null),y(i,E),y(i,M),~O&&oe[O].m(M,null),y(i,A),y(i,T),b(R,T,null),y(i,F),ae&&ae.m(i,null),y(i,V),y(i,G),ce[K].m(G,null),e[66](G),y(i,J),fe&&fe.m(i,null),y(t,W),y(t,X);for(let e=0;e<ie.length;e+=1)ie[e]&&ie[e].m(X,null);y(X,Y),he&&he.m(X,null),Q=I(t,e[68].bind(t)),Z=!0,ee||(te=[w(n,"click",e[36]),w(c,"click",Ln),w(q,"click",e[48]),w(M,"click",e[37]),w(T,"click",e[38]),w(G,"click",e[47])],ee=!0)},p(e,o){const l={};512&o[0]&&(l.icon=e[9]?we.faPause:be.faPlay),r.$set(l),(!Z||2097152&o[0])&&h(n,"data-tooltip",e[21]),(!Z||512&o[0])&&g(n,"play",e[9]),(!Z||1048576&o[0])&&h(c,"data-tooltip",e[20]),(!Z||8&o[0])&&g(c,"dlready",e[3]);let a=O;O=le(e),O===a?~O&&oe[O].p(e,o):(L&&(k(),P(oe[a],1,1,()=>{oe[a]=null}),S()),~O?(L=oe[O],L?L.p(e,o):(L=oe[O]=re[O](e),L.c()),_(L,1),L.m(M,null)):L=null),(!Z||524288&o[0])&&h(M,"data-tooltip",e[19]);const s={};2048&o[0]&&(s.icon=e[11]?ye.faVolumeMute:ge.faVolumeUp),R.$set(s),(!Z||8388608&o[0])&&h(T,"data-tooltip",e[23]),e[15]?ae?(ae.p(e,o),32768&o[0]&&_(ae,1)):(ae=dn(e),ae.c(),_(ae,1),ae.m(i,V)):ae&&(k(),P(ae,1,1,()=>{ae=null}),S());let u=K;K=ue(e),K===u?ce[K].p(e,o):(k(),P(ce[u],1,1,()=>{ce[u]=null}),S(),B=ce[K],B?B.p(e,o):(B=ce[K]=se[K](e),B.c()),_(B,1),B.m(G,null)),(!Z||33554432&o[0])&&g(G,"filterExpanded",e[25]),(!Z||8&o[0])&&g(G,"dlready",e[3]),e[5]?fe?fe.p(e,o):(fe=vn(e),fe.c(),fe.m(i,null)):fe&&(fe.d(1),fe=null),324&o[0]|256&o[1]&&(de=e[2],ie=D(ie,o,pe,1,e,de,ne,X,U,yn,Y,Wi)),e[15]?he&&(k(),P(he,1,1,()=>{he=null}),S()):he?(he.p(e,o),32768&o[0]&&_(he,1)):(he=bn(e),he.c(),_(he,1),he.m(X,null)),(!Z||32768&o[0])&&g(t,"tinygoto",e[15]),(!Z||4096&o[0])&&g(t,"hide",0==e[12])},i(e){Z||(_(r.$$.fragment,e),_($.$$.fragment,e),_(j.$$.fragment,e),_(L),_(R.$$.fragment,e),_(ae),_(B),_(he),Z=!0)},o(e){P(r.$$.fragment,e),P($.$$.fragment,e),P(j.$$.fragment,e),P(L),P(R.$$.fragment,e),P(ae),P(B),P(he),Z=!1},d(i){i&&u(t),N(r),N($),N(j),~O&&oe[O].d(),N(R),ae&&ae.d(),ce[K].d(),e[66](null),fe&&fe.d();for(let e=0;e<ie.length;e+=1)ie[e].d();he&&he.d(),Q(),ee=!1,x(te)}}}function cn(e){let t,i;return t=new H({props:{icon:Se.faImage}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function un(e){let t,i;return t=new H({props:{icon:Pe.faVideo}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function fn(e){let t,i;return t=new H({props:{icon:ke.faPhotoVideo}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function dn(e){let t,i,n,r,o,a;const s=[mn,pn],c=[];function f(e,t){return e[17]?0:1}return i=f(e),n=c[i]=s[i](e),{c(){t=l("span"),n.c(),this.h()},l(e){t=d(e,"SPAN",{class:!0,"data-tooltip":!0});var i=p(t);n.l(i),i.forEach(u),this.h()},h(){h(t,"class","btn reload tooltip svelte-1qdlkqz"),h(t,"data-tooltip",e[18]),g(t,"loaderror",e[28])},m(n,l){v(n,t,l),c[i].m(t,null),r=!0,o||(a=w(t,"click",e[35]),o=!0)},p(e,o){let l=i;i=f(e),i===l?c[i].p(e,o):(k(),P(c[l],1,1,()=>{c[l]=null}),S(),n=c[i],n?n.p(e,o):(n=c[i]=s[i](e),n.c()),_(n,1),n.m(t,null)),(!r||262144&o[0])&&h(t,"data-tooltip",e[18]),(!r||268435456&o[0])&&g(t,"loaderror",e[28])},i(e){r||(_(n),r=!0)},o(e){P(n),r=!1},d(e){e&&u(t),c[i].d(),o=!1,a()}}}function pn(e){let t,i;return t=new H({props:{icon:qe.faSync}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function mn(e){let t,i;return t=new H({props:{icon:je.faSpinner}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function hn(e){let t,i;return t=new H({props:{icon:xe.faSearch}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function gn(e){let t,i,n;return{c(){t=l("input"),this.h()},l(e){t=d(e,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){h(t,"type","text"),h(t,"placeholder","Filter posts..."),h(t,"class","svelte-1qdlkqz")},m(r,o){v(r,t,o),K(t,e[5]),i||(n=[w(t,"input",e[65]),w(t,"click",B(e[62])),w(t,"keydown",B(e[63]))],i=!0)},p(e,i){32&i[0]&&t.value!==e[5]&&K(t,e[5])},i:G,o:G,d(e){e&&u(t),i=!1,x(n)}}}function vn(e){let t,i,n,r,o;return{c(){t=l("span"),i=l("p"),n=E("deep search 🠒"),this.h()},l(e){t=d(e,"SPAN",{class:!0,"data-tooltip":!0});var r=p(t);i=d(r,"P",{class:!0});var o=p(i);n=M(o,"deep search 🠒"),o.forEach(u),r.forEach(u),this.h()},h(){h(i,"class","svelte-1qdlkqz"),h(t,"class","btn deepsearch tooltip svelte-1qdlkqz"),h(t,"data-tooltip",e[22])},m(l,a){v(l,t,a),y(t,i),y(i,n),r||(o=w(t,"click",e[46]),r=!0)},p(e,i){4194304&i[0]&&h(t,"data-tooltip",e[22])},d(e){e&&u(t),r=!1,o()}}}function yn(e,t){let i,n,r,a,s,c,m,b,$,_=t[107]+1+"";function k(){return t[67](t[107])}return{key:e,first:null,c(){i=l("span"),n=l("img"),s=o(),c=l("p"),m=E(_),this.h()},l(e){i=d(e,"SPAN",{class:!0});var t=p(i);n=d(t,"IMG",{class:!0,alt:!0,src:!0}),s=f(t),c=d(t,"P",{class:!0});var r=p(c);m=M(r,_),r.forEach(u),t.forEach(u),this.h()},h(){h(n,"class","small svelte-1qdlkqz"),h(n,"alt",r=t[2][t[107]].title),L(n.src,a=t[2][t[107]].thumbnail)||h(n,"src",a),h(c,"class","small svelte-1qdlkqz"),g(c,"curr",t[8]===t[107]),g(c,"album",t[6].is_album),h(i,"class","nums svelte-1qdlkqz"),g(i,"currnum",t[8]===t[107]),g(i,"album",t[6].is_album),g(i,"favorite",t[2][t[107]].favorite),g(i,"over18",t[2][t[107]].over18),this.first=i},m(e,t){v(e,i,t),y(i,n),y(i,s),y(i,c),y(c,m),b||($=w(i,"click",k),b=!0)},p(e,o){t=e,4&o[0]&&r!==(r=t[2][t[107]].title)&&h(n,"alt",r),4&o[0]&&!L(n.src,a=t[2][t[107]].thumbnail)&&h(n,"src",a),4&o[0]&&_!==(_=t[107]+1+"")&&O(m,_),260&o[0]&&g(c,"curr",t[8]===t[107]),64&o[0]&&g(c,"album",t[6].is_album),260&o[0]&&g(i,"currnum",t[8]===t[107]),64&o[0]&&g(i,"album",t[6].is_album),4&o[0]&&g(i,"favorite",t[2][t[107]].favorite),4&o[0]&&g(i,"over18",t[2][t[107]].over18)},d(e){e&&u(i),b=!1,$()}}}function bn(e){let t,i,n,r,a,s,c,m,b,$,N,x,z=e[2].length+"",q=e[0].length+"";const j=[$n,wn],C=[];function I(e,t){return e[17]?0:1}return m=I(e),b=C[m]=j[m](e),{c(){t=l("span"),i=l("p"),n=E(z),r=E("/"),a=E(q),s=o(),c=l("span"),b.c(),this.h()},l(e){t=d(e,"SPAN",{class:!0});var o=p(t);i=d(o,"P",{class:!0});var l=p(i);n=M(l,z),r=M(l,"/"),a=M(l,q),l.forEach(u),o.forEach(u),s=f(e),c=d(e,"SPAN",{class:!0,"data-tooltip":!0});var m=p(c);b.l(m),m.forEach(u),this.h()},h(){h(i,"class","svelte-1qdlkqz"),h(t,"class","displayinfo svelte-1qdlkqz"),g(t,"filterExpanded",e[5]),h(c,"class","btn reload tooltip svelte-1qdlkqz"),h(c,"data-tooltip",e[18]),g(c,"loaderror",e[28])},m(o,l){v(o,t,l),y(t,i),y(i,n),y(i,r),y(i,a),v(o,s,l),v(o,c,l),C[m].m(c,null),$=!0,N||(x=w(c,"click",e[35]),N=!0)},p(e,i){(!$||4&i[0])&&z!==(z=e[2].length+"")&&O(n,z),(!$||1&i[0])&&q!==(q=e[0].length+"")&&O(a,q),(!$||32&i[0])&&g(t,"filterExpanded",e[5]);let r=m;m=I(e),m===r?C[m].p(e,i):(k(),P(C[r],1,1,()=>{C[r]=null}),S(),b=C[m],b?b.p(e,i):(b=C[m]=j[m](e),b.c()),_(b,1),b.m(c,null)),(!$||262144&i[0])&&h(c,"data-tooltip",e[18]),(!$||268435456&i[0])&&g(c,"loaderror",e[28])},i(e){$||(_(b),$=!0)},o(e){P(b),$=!1},d(e){e&&u(t),e&&u(s),e&&u(c),C[m].d(),N=!1,x()}}}function wn(e){let t,i;return t=new H({props:{icon:qe.faSync}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function $n(e){let t,i;return t=new H({props:{icon:je.faSpinner}}),{c(){a(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,n){b(t,e,n),i=!0},p:G,i(e){i||(_(t.$$.fragment,e),i=!0)},o(e){P(t.$$.fragment,e),i=!1},d(e){N(t,e)}}}function _n(e){let t,i=[],n=new Map,r=e[7];const o=e=>e[102].preview.img.default;for(let t=0;t<r.length;t+=1){let l=Ji(e,r,t),a=o(l);n.set(a,i[t]=In(a,l))}return{c(){t=l("div");for(let e=0;e<i.length;e+=1)i[e].c();this.h()},l(e){t=d(e,"DIV",{class:!0});var n=p(t);for(let e=0;e<i.length;e+=1)i[e].l(n);n.forEach(u),this.h()},h(){h(t,"class","prefetch")},m(e,n){v(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,l){536871040&l[0]|2&l[1]&&(r=e[7],i=D(i,l,o,1,e,r,n,t,U,In,null,Ji))},d(e){e&&u(t);for(let e=0;e<i.length;e+=1)i[e].d()}}}function kn(e){let t,i;return{c(){t=l("img"),this.h()},l(e){t=d(e,"IMG",{alt:!0,src:!0}),this.h()},h(){h(t,"alt","prefetch"),L(t.src,i=e[102].default)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].default)&&h(t,"src",i)},d(e){e&&u(t)}}}function Pn(e){let t,i;return{c(){t=l("img"),this.h()},l(e){t=d(e,"IMG",{alt:!0,src:!0}),this.h()},h(){h(t,"alt","prefetch"),L(t.src,i=e[102].preview.img.default)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].preview.img.default)&&h(t,"src",i)},d(e){e&&u(t)}}}function Sn(e){let t,i;return{c(){t=l("img"),this.h()},l(e){t=d(e,"IMG",{alt:!0,src:!0}),this.h()},h(){h(t,"alt","prefetch"),L(t.src,i=e[102].preview.img.album[0].default)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].preview.img.album[0].default)&&h(t,"src",i)},d(e){e&&u(t)}}}function Nn(e){let t;function i(e,t){return e[102].is_album?zn:xn}let n=i(e),r=n(e);return{c(){r.c(),t=s()},l(e){r.l(e),t=s()},m(e,i){r.m(e,i),v(e,t,i)},p(e,o){n===(n=i(e))&&r?r.p(e,o):(r.d(1),r=n(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&u(t)}}}function xn(e){let t,i;return{c(){t=l("img"),this.h()},l(e){t=d(e,"IMG",{alt:!0,src:!0}),this.h()},h(){h(t,"alt","prefetch-hires"),L(t.src,i=e[102].url)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].url)&&h(t,"src",i)},d(e){e&&u(t)}}}function zn(e){let t,i;return{c(){t=l("img"),this.h()},l(e){t=d(e,"IMG",{alt:!0,src:!0}),this.h()},h(){h(t,"alt","prefetch-hires"),L(t.src,i=e[102].preview.img.album[0].hires)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].preview.img.album[0].hires)&&h(t,"src",i)},d(e){e&&u(t)}}}function qn(e){let t;function i(e,t){return e[29]?Mn:e[102].preview?En:jn}let n=i(e),r=n(e);return{c(){t=l("video"),r.c(),this.h()},l(e){t=d(e,"VIDEO",{});var i=p(t);r.l(i),i.forEach(u),this.h()},h(){t.playsInline=!0,t.autoplay=!0,t.loop=!0,t.muted=!0},m(e,i){v(e,t,i),r.m(t,null)},p(e,o){n===(n=i(e))&&r?r.p(e,o):(r.d(1),r=n(e),r&&(r.c(),r.m(t,null)))},d(e){e&&u(t),r.d()}}}function jn(e){let t,i;return{c(){t=l("source"),this.h()},l(e){t=d(e,"SOURCE",{src:!0}),this.h()},h(){L(t.src,i=e[102].default)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].default)&&h(t,"src",i)},d(e){e&&u(t)}}}function En(e){let t,i,n=e[102].preview.vid.webm&&On(e),r=e[102].preview.vid.mp4&&Cn(e);return{c(){n&&n.c(),t=s(),r&&r.c(),i=s()},l(e){n&&n.l(e),t=s(),r&&r.l(e),i=s()},m(e,o){n&&n.m(e,o),v(e,t,o),r&&r.m(e,o),v(e,i,o)},p(e,o){e[102].preview.vid.webm?n?n.p(e,o):(n=On(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),e[102].preview.vid.mp4?r?r.p(e,o):(r=Cn(e),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(e){n&&n.d(e),e&&u(t),r&&r.d(e),e&&u(i)}}}function Mn(e){let t,i;return{c(){t=l("source"),this.h()},l(e){t=d(e,"SOURCE",{src:!0}),this.h()},h(){L(t.src,i=e[102].preview.vid.lores)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].preview.vid.lores)&&h(t,"src",i)},d(e){e&&u(t)}}}function On(e){let t,i;return{c(){t=l("source"),this.h()},l(e){t=d(e,"SOURCE",{src:!0}),this.h()},h(){L(t.src,i=e[102].preview.vid.webm)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].preview.vid.webm)&&h(t,"src",i)},d(e){e&&u(t)}}}function Cn(e){let t,i;return{c(){t=l("source"),this.h()},l(e){t=d(e,"SOURCE",{src:!0}),this.h()},h(){L(t.src,i=e[102].preview.vid.mp4)||h(t,"src",i)},m(e,i){v(e,t,i)},p(e,n){128&n[0]&&!L(t.src,i=e[102].preview.vid.mp4)&&h(t,"src",i)},d(e){e&&u(t)}}}function In(e,t){let i,n,r;function l(e,t){return e[32]?Nn:e[102].is_album?Sn:e[102].preview?Pn:kn}let a=l(t),c=a(t),d=t[102].is_video&&qn(t);return{key:e,first:null,c(){i=s(),c.c(),n=o(),d&&d.c(),r=s(),this.h()},l(e){i=s(),c.l(e),n=f(e),d&&d.l(e),r=s(),this.h()},h(){this.first=i},m(e,t){v(e,i,t),c.m(e,t),v(e,n,t),d&&d.m(e,t),v(e,r,t)},p(e,i){a===(a=l(t=e))&&c?c.p(t,i):(c.d(1),c=a(t),c&&(c.c(),c.m(n.parentNode,n))),t[102].is_video?d?d.p(t,i):(d=qn(t),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},d(e){e&&u(i),c.d(e),e&&u(n),d&&d.d(e),e&&u(r)}}}function Dn(e){let t,i,z,q,j,E,M,O,C,I,D,L,A,T,R,F,V,U,G,K,B,J;function W(e,t){return e[6].dims&&e[6].dims.width>0?Xi:Hi}Ki.title=t="tumblrpx - "+(e[1]?`t/${e[1]}`:"tumblr.com");let Q=W(e),Z=Q(e),ee=e[6].subreddit&&Yi(e);function te(t){e[64](t)}I=new H({props:{icon:X.faCog}});let ie={};function ne(e,t){return e[6].is_image&&!e[6].is_album?en:e[6].is_video&&e[27]?Zi:e[6].is_album?Qi:void 0}void 0!==e[26]&&(ie.showSettings=e[26]),A=new Y({props:ie}),n.push(()=>r(A,"showSettings",te)),A.$on("apiKeyChange",e[40]);let re=ne(e),oe=re&&re(e),le=(e[2].length||e[0].length)&&sn(e),ae=e[31]&&_n(e);return{c(){i=o(),z=l("div"),q=l("div"),j=l("div"),Z.c(),E=o(),ee&&ee.c(),M=o(),O=l("div"),C=l("span"),a(I.$$.fragment),D=o(),L=l("div"),a(A.$$.fragment),R=o(),F=l("div"),oe&&oe.c(),V=o(),le&&le.c(),U=o(),ae&&ae.c(),G=s(),this.h()},l(e){c("svelte-ppmq07",Ki.head).forEach(u),i=f(e),z=d(e,"DIV",{class:!0});var t=p(z);q=d(t,"DIV",{class:!0});var n=p(q);j=d(n,"DIV",{class:!0});var r=p(j);Z.l(r),E=f(r),ee&&ee.l(r),r.forEach(u),M=f(n),O=d(n,"DIV",{class:!0});var o=p(O);C=d(o,"SPAN",{class:!0});var l=p(C);m(I.$$.fragment,l),l.forEach(u),D=f(o),L=d(o,"DIV",{class:!0});var a=p(L);m(A.$$.fragment,a),a.forEach(u),o.forEach(u),R=f(n),F=d(n,"DIV",{class:!0});var h=p(F);oe&&oe.l(h),h.forEach(u),V=f(n),le&&le.l(n),n.forEach(u),t.forEach(u),U=f(e),ae&&ae.l(e),G=s(),this.h()},h(){h(j,"class","title svelte-1qdlkqz"),g(j,"hide",!e[12]||!e[14]),g(j,"favorite",e[6].favorite),h(C,"class","btn cog svelte-1qdlkqz"),g(C,"showSettings",e[26]),g(C,"hide",0==e[12]),h(L,"class","div svelte-1qdlkqz"),g(L,"hide",0==e[12]),h(O,"class","settings svelte-1qdlkqz"),h(F,"class","main-media-container svelte-1qdlkqz"),h(q,"class","hero svelte-1qdlkqz"),h(z,"class","wrapper svelte-1qdlkqz"),g(z,"hide-cursor",e[13])},m(t,n){v(t,i,n),v(t,z,n),y(z,q),y(q,j),Z.m(j,null),y(j,E),ee&&ee.m(j,null),y(q,M),y(q,O),y(O,C),b(I,C,null),y(O,D),y(O,L),b(A,L,null),y(q,R),y(q,F),oe&&oe.m(F,null),y(q,V),le&&le.m(q,null),v(t,U,n),ae&&ae.m(t,n),v(t,G,n),K=!0,B||(J=[w(Bi,"keydown",e[50]),w(Bi,"wheel",e[49]),w(C,"click",e[45])],B=!0)},p(e,i){(!K||2&i[0])&&t!==(t="tumblrpx - "+(e[1]?`t/${e[1]}`:"tumblr.com"))&&(Ki.title=t),Q===(Q=W(e))&&Z?Z.p(e,i):(Z.d(1),Z=Q(e),Z&&(Z.c(),Z.m(j,E))),e[6].subreddit?ee?ee.p(e,i):(ee=Yi(e),ee.c(),ee.m(j,null)):ee&&(ee.d(1),ee=null),(!K||20480&i[0])&&g(j,"hide",!e[12]||!e[14]),(!K||64&i[0])&&g(j,"favorite",e[6].favorite),(!K||67108864&i[0])&&g(C,"showSettings",e[26]),(!K||4096&i[0])&&g(C,"hide",0==e[12]);const n={};!T&&67108864&i[0]&&(T=!0,n.showSettings=e[26],$(()=>T=!1)),A.$set(n),(!K||4096&i[0])&&g(L,"hide",0==e[12]),re===(re=ne(e))&&oe?oe.p(e,i):(oe&&oe.d(1),oe=re&&re(e),oe&&(oe.c(),oe.m(F,null))),e[2].length||e[0].length?le?(le.p(e,i),5&i[0]&&_(le,1)):(le=sn(e),le.c(),_(le,1),le.m(q,null)):le&&(k(),P(le,1,1,()=>{le=null}),S()),(!K||8192&i[0])&&g(z,"hide-cursor",e[13]),e[31]?ae?ae.p(e,i):(ae=_n(e),ae.c(),ae.m(G.parentNode,G)):ae&&(ae.d(1),ae=null)},i(e){K||(_(I.$$.fragment,e),_(A.$$.fragment,e),_(le),K=!0)},o(e){P(I.$$.fragment,e),P(A.$$.fragment,e),P(le),K=!1},d(e){e&&u(i),e&&u(z),Z.d(),ee&&ee.d(),N(I),N(A),oe&&oe.d(),le&&le.d(),e&&u(U),ae&&ae.d(e),e&&u(G),B=!1,x(J)}}}async function Ln(){window.open("/download","_blank")}function An(e,t,i){let r,o,l,a,s,c,u,f,d,p,m,h,g,v,y,b;z(e,Q,e=>i(9,o=e)),z(e,Z,e=>i(76,l=e)),z(e,ee,e=>i(57,a=e)),z(e,te,e=>i(58,s=e)),z(e,ie,e=>i(10,c=e)),z(e,ne,e=>i(59,u=e)),z(e,re,e=>i(60,f=e)),z(e,oe,e=>i(11,d=e)),z(e,le,e=>i(77,p=e)),z(e,ae,e=>i(78,h=e)),z(e,se,e=>i(29,g=e)),z(e,ce,e=>i(31,y=e)),z(e,ue,e=>i(32,b=e)),Q.useLocalStorage(!1),le.useLocalStorage(3),ie.useLocalStorage(0),te.useLocalStorage(0),Z.useLocalStorage({}),ee.useLocalStorage(1),fe.useLocalStorage({}),ce.useLocalStorage(!0),re.useLocalStorage(50),ue.useLocalStorage(!1),se.useLocalStorage(!0),de.useLocalStorage(!1),oe.useLocalStorage(!0),pe.useLocalStorage(0),ae.useLocalStorage(!1),ne.useLocalStorage("");let{params:w,slugstr:$}=t,{posts:_=[]}=t,{after:k=null}=t,{res:P}=t,{mode:S="tumblr"}=t,{pageType:N="user"}=t;console.log("Posts from API:",_);let x=[];console.log("Display Posts (initial):",x);let j,E,M,O,C=!h,I=h,D=0,L=!0,V=0;const U=mi(1440);z(e,U,e=>i(30,v=e));const G=U.pipe(Gi(B=500,{...J,maxWait:B}),(K=1440,({subscribe:e,pipe:t})=>({subscribe:(t,i)=>(t(K),e(t,i)),pipe(...e){return e.reduce((e,t)=>t(e),this)}})));var K,B,J;z(e,G,e=>i(61,m=e));let W,H,X=!1,Y="Load more",me="",he="",ge="",ve="",ye="Sound Off",be=!1,we="",$e=!1,_e={title:"Loading .."},ke=[],Pe=0;async function Se(){if(X)return;let e;if(i(17,X=!0),i(18,Y="Loading .."),"tumblr"===S){let t,n=u||"OAuth Consumer Key Goes Here";t="search"===N?`https://api.tumblr.com/v2/tagged?tag=${O}&api_key=${n}&before=${k||""}&${ui(w)}`:`https://api.tumblr.com/v2/blog/${O}/posts?api_key=${n}&offset=${k||""}&${ui(w)}`,i(52,({posts:e,after:k,...P}=await fi(t)),k,i(51,P))}console.log("[loadMore] API Response (res object):",P),console.log("[loadMore] New posts received:",e.length),console.log("[loadMore] Current posts array before combining:",_.length);for(let t of e)t.favorite=!!(l||{})[t.url]?.favorite;i(0,_=[..._,...e].reduce((e,t)=>e.some(e=>t.id===e.id)?e:[...e,t],[])),console.log("[loadMore] Posts after initial combine (before URL dedupe): ",_.length),i(0,_=_.filter((e,t,i)=>i.findIndex(t=>t.url==e.url)===t)),console.log("[loadMore] After dedupe/Total loaded: ",_.length),console.log("[loadMore] Next 'after' value:",k),i(17,X=!1),i(18,Y="Load more")}function Ne(){W=setInterval(()=>{(o&&_e.is_image||!o&&_e.is_video)&&ze()},1e3*p),Q.set(!0)}async function xe(){_e.is_album&&V>0?function(){if(!_e.is_album)return;i(4,V-=1),o&&je()}():(Ae(),await A(),_e.is_album&&i(4,V=_e.preview.img.album.length-1))}async function ze(){_e.is_album&&!Ve()?function(){if(!_e.is_album)return;Ve()?i(4,V=0):i(4,V+=1);o&&je()}():(Le(),await A())}function qe(){clearInterval(W),Q.set(!1)}function je(){qe(),Ne()}function Ee(){o?qe():Ne()}function Me(){T(ie,c+=1,c),3==c&&T(ie,c=0,c)}function Oe(){T(oe,d=!d,d)}q(async()=>{Se(),o&&Ne()});let Ce=!0,Ie=!1;function De(e){i(4,V=0),i(8,Pe=e);let t=x.length-Pe;2!=t&&3!=t||!o||(console.log("[goto-to-2/3]: loading .."),Se()),1===t&&(console.log("[goto-to-lastitem]: loading .."),Se()),o&&je()}function Le(){i(4,V=0);let e=x.length-1-Pe;if(e<=1)return i(8,Pe=x.length-1),console.log("[lastitem, autoplay+filter?]: loading more .."),void Se();4!==e&&3!==e||(console.log("[4th last item, normal]: loading more .."),Se()),2===e&&we&&(console.log("[2nd last item, filtering?]: loading more .."),Se()),i(8,Pe+=1),o&&je()}async function Ae(){0!==Pe&&(i(8,Pe-=1),i(4,V=0),await A(),x.length-Pe===3&&Se(),o&&je())}function Te(){var e=document.body;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),C||Re()):(e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),C&&Re())}function Re(){i(12,C=!C),D&&(clearTimeout(D),D=0),i(13,I=!C)}function Fe(){window.open(_e.permalink,"_blank")}function Ve(){return V==_e.preview.img.album.length-1}return e.$$set=e=>{"params"in e&&i(53,w=e.params),"slugstr"in e&&i(1,$=e.slugstr),"posts"in e&&i(0,_=e.posts),"after"in e&&i(52,k=e.after),"res"in e&&i(51,P=e.res),"mode"in e&&i(54,S=e.mode),"pageType"in e&&i(55,N=e.pageType)},e.$$.update=()=>{if(1057&e.$$.dirty[0]|201326592&e.$$.dirty[1]){let e=[];0==a?e=_.filter(e=>0==e.over18):1==a?e=_:2==a&&(e=_.filter(e=>1==e.over18)),we&&(i(56,Ie=!0),e=e.filter(e=>e.title.toLowerCase().includes(we.toLowerCase()))),1==c?e=e.filter(e=>e.is_video):2==c&&(e=e.filter(e=>e.is_image)),1==s?e=e.filter(e=>e.dims.width/e.dims.height<=1.2):2==s&&(e=e.filter(e=>e.dims.width/e.dims.height>1.2)),i(2,x=e)}if(500&e.$$.dirty[0]|806354944&e.$$.dirty[1])if(x[Pe]){i(6,_e=JSON.parse(JSON.stringify(x[Pe])));let e=[];e=[_e,...x.slice(Pe+1,Pe+f+1)],i(7,ke=e.map(function(e){return e.is_album?e.preview.img.album.slice(V,V+f+1):e}).flat()),console.log(ke),i(7,(t=()=>e=>e.preview.img.default,n={},ke=ke.filter(function(e){var i=t(e);return!n.hasOwnProperty(i)&&(n[i]=!0)})))}else if(we)x.length>0?(console.log("setting index from ",Pe," to ",x.length),i(8,Pe=x.length-1),console.log("loading more .."),Se()):(i(8,Pe=0),i(6,_e={title:"Nothing to show. Try changing filters or tweak/update URL."}));else{if(P&&P.res.ok)i(6,_e={title:"Nothing to show. Try changing filters or tweak/update URL."});else if(P&&!P.res.ok){console.log("API Error Response:",P);const e=P.res.res||P.res||"",t=e.includes("Invalid API key")||e.includes("OAuth Consumer Key Goes Here")||e.includes("api_key")||!u;i(6,_e=t?{title:"Please set your Tumblr API key in settings"}:{title:"Error loading posts"})}else i(6,_e={title:"Loading .."});i(7,ke=[])}var t,n;if(80&e.$$.dirty[0]&&(_e.is_album?i(16,M=`(${V+1}/${_e.preview.img.album.length}) ${_e.title}`):i(16,M=_e.title)),2&e.$$.dirty[0]&&(O=$),4&e.$$.dirty[0]|1073741824&e.$$.dirty[1])if(m>1e3){let e=(m-308)/32,t=(x.length+5)/e;i(15,E=t>3)}else if(m>800){let e=(m-168)/32,t=(x.length+5)/e;i(15,E=t>3)}else{let e=(m-28)/32,t=(x.length+5)/e;i(15,E=t>3)}1048576&e.$$.dirty[1]&&i(28,r=P&&!P.res.ok),64&e.$$.dirty[0]|33554432&e.$$.dirty[1]&&(Ie||(_e.preview,i(27,Ce=!1),setTimeout(()=>i(27,Ce=!0),0)),i(56,Ie=!1)),3628&e.$$.dirty[0]|201326592&e.$$.dirty[1]&&(i(3,j=x.filter(e=>1==e.favorite).length),i(20,he=j?1==j?`Download ${j} file`:`Download ${j} files`:"Nothing to download"),i(21,ge="Autoplay is "+(o?"on":"off")),i(22,ve=`Search for ${we}`),i(23,ye="Sound "+(d?"off":"on")),0==c?i(19,me="Show both image and video"):1==c?i(19,me="Show videos only"):2==c&&i(19,me="Show images only"))},[_,$,x,j,V,we,_e,ke,Pe,o,c,d,C,I,L,E,M,X,Y,me,he,ge,ve,ye,H,be,$e,Ce,r,g,v,y,b,U,G,Se,Ee,Me,Oe,De,function(){i(0,_=[]),i(2,x=[]),i(52,k=null),Se()},function(){Le()},Te,function(e){const t=document.getElementById("videoplayerid").getBoundingClientRect(),i=e.offsetX/t.width;i<.2?Ae():i>.8&&Le()},function(){if(C)return i(13,I=!1),void(D&&(clearTimeout(D),D=0));i(13,I=!1),D&&clearTimeout(D),D=setTimeout(()=>{D=0,i(13,I=!0)},3e3)},function(){i(26,$e=!$e)},function(){let e="";e=$?`/r/${subreddit}`:"",R(`${e}/search?q=${we}&restrict_sr=on&include_over_18=on&sort=relevant&t=all`)},async function(){i(25,be=!be),await A(),be&&H.querySelector("input").focus()},async function(){i(2,x=ci(x))},function(e){e.deltaY>0?ze():e.deltaY<0&&xe()},function(e){if(38==e.keyCode&&ze(),40==e.keyCode&&xe(),83==e.keyCode&&Oe(),81!=e.keyCode&&80!=e.keyCode||Ee(),70!=e.keyCode||e.ctrlKey||Te(),191==e.keyCode&&(!async function(){i(25,be=!0),await A(),be&&H.querySelector("input").focus()}(),e.preventDefault()),88==e.keyCode&&(e.shiftKey?function(e){i(56,Ie=!0);for(const[t,n]of x.entries())i(2,x[t].favorite=!1,x),0==e&&(T(Z,l[n.url]=void 0,l),T(Z,l=JSON.parse(JSON.stringify(l)),l),Z.set(l));e&&Z.set({})}(e.ctrlKey):function(){i(56,Ie=!0),i(2,x[Pe].favorite=!x[Pe].favorite,x);let e=x[Pe].url;T(Z,l[e]=void 0,l),T(Z,l=JSON.parse(JSON.stringify(l)),l),T(Z,l[e]=x[Pe],l),Z.set(l)}()),e.ctrlKey)return;79==e.keyCode&&Fe(),73==e.keyCode&&Fe(),79==e.keyCode&&window.open(_e.permalink,"_blank"),72==e.keyCode&&Re(),84==e.keyCode&&i(14,L=!L),118==e.keyCode&&Me(),67==e.keyCode&&function(){let e;_e.url.startsWith("https://v.redd.it/")||_e.url.includes("redgifs.com")?e=_e.preview.vid.mp4:_e.is_image&&!_e.is_album||_e.is_video?e=_e.url:_e.is_album&&(_e.preview.img.album[V].is_video,e=_e.preview.img.album[V].hires),navigator.clipboard.writeText(e).then(()=>console.log(`Copied: ${e}`))}();const t=e.keyCode-48;if(t>=0&&t<=3){const e=document.getElementById("videoplayerid");e.currentTime=t*e.duration/4}if(37==e.keyCode||65==e.keyCode||75==e.keyCode||33==e.keyCode)if(e.shiftKey){document.getElementById("videoplayerid").currentTime-=5}else Ae();else if(39==e.keyCode||68==e.keyCode||74==e.keyCode||32==e.keyCode||34==e.keyCode)if(e.shiftKey){document.getElementById("videoplayerid").currentTime+=5}else Le()},P,k,w,S,N,Ie,a,s,u,f,m,function(t){F.call(this,e,t)},function(t){F.call(this,e,t)},function(e){$e=e,i(26,$e)},function(){we=this.value,i(5,we)},function(e){n[e?"unshift":"push"](()=>{H=e,i(24,H)})},function(e){De(e)},function(){v=this.clientWidth,U.set(v)}]}class Tn extends e{constructor(e){super(),t(this,e,An,Dn,i,{params:53,slugstr:1,posts:0,after:52,res:51,mode:54,pageType:55},null,[-1,-1,-1,-1])}}export{Tn as F};
