import{S as s,i as t,s as r,c as e,a,m as o,t as f,b as n,d as u,e as p,f as l,g as i,h as c,j as m,k as g,l as d}from"./client.f020807d.js";import{g as $,q as b,F as y}from"./FullscreenLayout.db331a14.js";import{f as h,l as j}from"./Settings.f01afc30.js";import"./faHome.cd4c86bc.js";import"./faStar.e6805895.js";function q(s){let t,r;return t=new y({props:{slugstr:s[3],posts:s[0],res:s[1],after:s[2],params:s[5].query}}),{c(){e(t.$$.fragment)},l(s){a(t.$$.fragment,s)},m(s,e){o(t,s,e),r=!0},p(s,r){const e={};8&r&&(e.slugstr=s[3]),1&r&&(e.posts=s[0]),2&r&&(e.res=s[1]),4&r&&(e.after=s[2]),32&r&&(e.params=s[5].query),t.$set(e)},i(s){r||(f(t.$$.fragment,s),r=!0)},o(s){n(t.$$.fragment,s),r=!1},d(s){u(t,s)}}}function z(s){let t,r,e=0==s[4]&&q(s);return{c(){e&&e.c(),t=p()},l(s){e&&e.l(s),t=p()},m(s,a){e&&e.m(s,a),l(s,t,a),r=!0},p(s,[r]){0==s[4]?e?(e.p(s,r),16&r&&f(e,1)):(e=q(s),e.c(),f(e,1),e.m(t.parentNode,t)):e&&(d(),n(e,1,1,(()=>{e=null})),i())},i(s){r||(f(e),r=!0)},o(s){n(e),r=!1},d(s){e&&e.d(s),s&&c(t)}}}async function S({path:s,params:t,query:r}){if("undefined"==typeof window)return;let e="cheezbot",{posts:a,res:o,after:f}=await $(`https://api.tumblr.com/v2/blog/cheezbot/posts?api_key=ru6b4z2sDMz7h0WyCULiNuqqgDfgubrdQZtZrVUkXQGkzFPTrF&${b(r)}`);return{posts:a,after:f,res:o,slugstr:e}}function k(s,t,r){let e,a,o;m(s,h,(s=>r(7,e=s))),m(s,j,(s=>r(4,a=s)));const{page:f}=g();m(s,f,(s=>r(5,o=s))),h.useLocalStorage({}),j.useLocalStorage(0);let{posts:n=[]}=t,{res:u}=t,{after:p}=t,{slugstr:l}=t;for(let s of n)s.favorite=!!e[s.url]?.favorite;return s.$$set=s=>{"posts"in s&&r(0,n=s.posts),"res"in s&&r(1,u=s.res),"after"in s&&r(2,p=s.after),"slugstr"in s&&r(3,l=s.slugstr)},[n,u,p,l,a,o,f]}class w extends s{constructor(s){super(),t(this,s,k,z,r,{posts:0,res:1,after:2,slugstr:3})}}export{w as default,S as preload};
